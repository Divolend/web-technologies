<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Собрать ланч</title>

  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="lunch.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
</head>
<body>
<header>
  <h1>Food Construct</h1>
  <nav>
    <a href="index.html">О нас</a>
    <a href="lunch.html" class="active">Собрать ланч</a>
    <a href="#">Заказы</a>
    <a href="#">Контакты</a>
  </nav>
</header>

<main>
  <!-- ===== БЛОК: ДОСТУПНЫЕ КОМБО (иконки) ===== -->
  <section class="combo-section">
    <h2>Доступные для заказа комбо</h2>
    <div class="combo-grid">
      
      <!-- A: Суп + Главное блюдо + Салат + Напиток -->
      <div class="combo-card combo-card--four">
        <div class="combo-row">
          <div class="combo-item"><img src="Images/soup.png"  alt="Суп"><span>Суп</span></div>
          <div class="combo-item"><img src="Images/main.png"  alt="Главное блюдо"><span>Главное блюдо</span></div>
          <div class="combo-item"><img src="Images/salad.png" alt="Салат"><span>Салат</span></div>
          <div class="combo-item"><img src="Images/drink.png" alt="Напиток"><span>Напиток</span></div>
        </div>
      </div>

      <!-- B: Суп + Главное блюдо + Напиток -->
      <div class="combo-card combo-card--smd">
        <div class="combo-row">
          <div class="combo-item"><img src="Images/soup.png"  alt="Суп"><span>Суп</span></div>
          <div class="combo-item"><img src="Images/main.png"  alt="Главное блюдо"><span>Главное блюдо</span></div>
          <div class="combo-item"><img src="Images/drink.png" alt="Напиток"><span>Напиток</span></div>
        </div>
      </div>

      <!-- C: Суп + Салат + Напиток  (+ десерт снизу в этой же карточке) -->
      <div class="combo-card combo-card--ssd">
        <div class="combo-row">
          <div class="combo-item"><img src="Images/soup.png"  alt="Суп"><span>Суп</span></div>
          <div class="combo-item"><img src="Images/salad.png" alt="Салат"><span>Салат</span></div>
          <div class="combo-item"><img src="Images/drink.png" alt="Напиток"><span>Напиток</span></div>
        </div>

        <div class="dessert-row">
          <div class="combo-item">
            <img src="Images/desert.png" alt="Десерт"><span>Десерт</span>
          </div>
          <p class="dessert-note">(Можно добавить к любому заказу)</p>
        </div>
      </div>

      <!-- D: Главное блюдо + Салат + Напиток -->
      <div class="combo-card combo-card--msd">
        <div class="combo-row">
          <div class="combo-item"><img src="Images/main.png"  alt="Главное блюдо"><span>Главное блюдо</span></div>
          <div class="combo-item"><img src="Images/salad.png" alt="Салат"><span>Салат</span></div>
          <div class="combo-item"><img src="Images/drink.png" alt="Напиток"><span>Напиток</span></div>
        </div>
      </div>

      <!-- E: Главное блюдо + Напиток -->
      <div class="combo-card combo-card--md">
        <div class="combo-row">
          <div class="combo-item"><img src="Images/main.png"  alt="Главное блюдо"><span>Главное блюдо</span></div>
          <div class="combo-item"><img src="Images/drink.png" alt="Напиток"><span>Напиток</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Супы -->
  <section id="soups" data-category="soup">
    <h2>Выберите суп</h2>
    <div class="filters">
      <a href="#" data-kind="fish">рыбный</a>
      <a href="#" data-kind="meat">мясной</a>
      <a href="#" data-kind="veg">вегетарианский</a>
    </div>
    <div class="dish-grid"></div>
  </section>

  <!-- Основные блюда -->
  <section id="mains" data-category="main">
    <h2>Выберите главное блюдо</h2>
    <div class="filters">
      <a href="#" data-kind="fish">рыбное</a>
      <a href="#" data-kind="meat">мясное</a>
      <a href="#" data-kind="veg">вегетарианское</a>
    </div>
    <div class="dish-grid"></div>
  </section>

  <!-- Салаты и стартеры -->
  <section id="salads" data-category="salad">
    <h2>Выберите салат или стартер</h2>
    <div class="filters">
      <a href="#" data-kind="fish">рыбный</a>
      <a href="#" data-kind="meat">мясной</a>
      <a href="#" data-kind="veg">вегетарианский</a>
    </div>
    <div class="dish-grid"></div>
  </section>

  <!-- Напитки -->
  <section id="drinks" data-category="drink">
    <h2>Выберите напиток</h2>
    <div class="filters">
      <a href="#" data-kind="cold">холодный</a>
      <a href="#" data-kind="hot">горячий</a>
    </div>
    <div class="dish-grid"></div>
  </section>

  <!-- Десерты -->
  <section id="desserts" data-category="dessert">
    <h2>Выберите десерт</h2>
    <div class="filters">
      <a href="#" data-kind="small">маленькая порция</a>
      <a href="#" data-kind="medium">средняя порция</a>
      <a href="#" data-kind="large">большая порция</a>
    </div>
    <div class="dish-grid"></div>
  </section>
</main>

  <!-- Сделать заказ -->

<section class="order-section">
  <h2 class="order-title">Сделать заказ</h2>

  <form action="https://httpbin.org/post" method="post" class="order-form" id="order-form">
    <!-- Блок: Ваш заказ -->
    <fieldset class="order-summary">
      <legend>Ваш заказ</legend>

      <div id="order-items">
        <p><strong>Ничего не выбрано</strong></p>
      </div>

      <!-- комментарий должен быть в блоке заказа и оставаться всегда -->
      <label for="comment">Комментарии к заказу</label>
      <textarea id="comment" name="comment" rows="4"></textarea>
    </fieldset>

    <!-- Блок: Данные клиента -->
    <fieldset class="client-block">
      <legend>Ваши данные</legend>

      <label for="name">Имя</label>
      <input type="text" id="name" name="name" required />

      <label for="email">Email</label>
      <input type="email" id="email" name="email" required />

      <label class="checkbox">
        <input type="checkbox" id="subscribe" name="subscribe" checked />
        Получать информацию о скидках и акциях
      </label>

      <label for="phone">Номер телефона</label>
      <input type="tel" id="phone" name="phone" required />

      <label for="address">Адрес доставки</label>
      <input type="text" id="address" name="address" required />
      <p class="hint">Доставка осуществляется только по Москве</p>

      <p>Время доставки:</p>

      <label class="radio-label">
        <input type="radio" name="delivery_time_option" value="asap" required />
        Как можно скорее
      </label>

      <label class="radio-label">
        <input type="radio" name="delivery_time_option" value="specified" required />
        К указанному времени
      </label>

      <label for="delivery-time">Укажите время доставки</label>
      <input type="time" id="delivery-time" name="delivery_time" min="07:00" max="23:00" step="300" />
      <p class="hint">Доступное время доставки с 7:00 до 23:00</p>

      <div class="buttons">
        <button type="reset">Сбросить</button>
        <button type="submit">Отправить</button>
      </div>
    </fieldset>
  </form>
</section>

<footer>
  <p>Позвонить нам: +7-000-000-00-00</p>
</footer>

<!-- Скрипты -->
<script src="dishes.js"></script>
<script src="order.js"></script>
<script src="render.js"></script>
<script>
  // инициализация
  document.addEventListener('DOMContentLoaded', () => {
    renderDishes();      // динамически рисуем карточки (со всеми категориями и data-kind)
    updateOrderBlock();  // первичное состояние "Ничего не выбрано"

    // делаем time обязательным, если выбран "к указанному времени"
    const rAsap = document.querySelector('input[name="delivery_time_option"][value="asap"]');
    const rSpecified = document.querySelector('input[name="delivery_time_option"][value="specified"]');
    const timeInput = document.getElementById('delivery-time');

    function toggleTimeRequired() {
      if (rSpecified.checked) {
        timeInput.required = true;
      } else {
        timeInput.required = false;
        timeInput.value = '';
      }
    }
    rAsap.addEventListener('change', toggleTimeRequired);
    rSpecified.addEventListener('change', toggleTimeRequired);

    // сброс формы также очищает выбранные блюда
    document.getElementById('order-form').addEventListener('reset', () => {
      setTimeout(() => { // даём браузеру сбросить нативные поля
        clearOrder();
        updateOrderBlock();
        toggleTimeRequired();
      }, 0);
    });
  });
</script>
</body>
</html>
